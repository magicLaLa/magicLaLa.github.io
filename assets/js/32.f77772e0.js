(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{460:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",[t._v("wsl2 升级时报错 找不到指定文件，导致 wls1 升级到 wsl2，原因与 安装 虚拟机有关，它的网络适配器把 wsl2 的 给搞坏了，解决方案：网络重置 哈哈 🤣")])]),t._v(" "),s("p",[t._v("今天安装 vmware 虚拟机用来测试东西，发现安装后 导致 docker 打不开，报以下错误：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("System.InvalidOperationException:\nFailed to deploy distro docker-desktop to C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chakrit Rakhuang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("wsl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("distro: "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" code: "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),t._v("\nstdout: Error: 0xffffffff\n\nstderr:\nat Docker.Core.WslShortLivedCommandResult.LogAndThrowIfUnexpectedExitCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String prefix, ILogger log, Int32 expectedExitCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("workspaces"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("stable-2.3.x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("github.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pinata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("win"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker.Core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WslCommand.cs:line "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("119")]),t._v("\nat Docker.Engines.WSL2.WSL2Provisioning.d__17.MoveNext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("workspaces"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("stable-2.3.x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("github.com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pinata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("win"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker.Desktop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Engines"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WSL2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WSL2Provisioning.cs:line "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("169")]),t._v("\n--- End of stack trace from previous location where exception was thrown ---\nat System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),s("p",[t._v("相关 issues "),s("a",{attrs:{href:"https://github.com/docker/for-win/issues/8204",target:"_blank",rel:"noopener noreferrer"}},[t._v("Failed to deploy distro docker-desktop"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("找了半天 解决方案，发现都不能解决这个问题，然后我就去了 "),s("code",[t._v("wsl")]),t._v(" 相关仓库下去寻找问题，因为 我连 "),s("code",[t._v("wsl2")]),t._v(" 都用不了了，怀疑是 这个 环节出了问题，因为 "),s("code",[t._v("docker")]),t._v(" 目前在 w10 上面是以 wsl 的方式来运行的，我以 "),s("code",[t._v("wsl --set-version Ubuntu 2")]),t._v(" 报 "),s("code",[t._v("找不到相关文件")]),t._v(" 简直了 😭")]),t._v(" "),s("p",[t._v("然后查看了几篇 wsl 下的相关 issues 怀疑是 网络适配器的锅，所以 一怒之下 网络 重置了下，它好了")]),t._v(" "),s("p",[t._v("注意：网络重置 重启后 导致 网络不可用，网络适配器也无正常工作，可以使用 "),s("code",[t._v("CCleaner")]),t._v(" 修正下 注册表，然后重启下电脑就可以了，不用重置 电脑了")]),t._v(" "),s("p",[t._v("相关 issues：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/7212",target:"_blank",rel:"noopener noreferrer"}},[t._v("The system cannot find the path specified. "),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/5107",target:"_blank",rel:"noopener noreferrer"}},[t._v('Installing Any Distro on WSL2 Fails with "WslRegisterDistribution failed with error: 0x80070002"'),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/6579",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cant Migrate to WSL2 Error code: 0x80070002"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);