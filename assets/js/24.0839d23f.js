(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{530:function(t,s,n){"use strict";n.r(s);var a=n(3),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",[t._v("wsl2 升级时报错 找不到指定文件，导致 wls1 升级到 wsl2，原因与 安装 虚拟机有关，它的网络适配器把 wsl2 的 给搞坏了，解决方案：网络重置 哈哈 🤣")])]),t._v(" "),n("p",[t._v("今天安装 vmware 虚拟机用来测试东西，发现安装后 导致 docker 打不开，报以下错误：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("System.InvalidOperationException:\nFailed to deploy distro docker-desktop to C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Chakrit Rakhuang"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Local"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("wsl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("distro: "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" code: -1\nstdout: Error: 0xffffffff\n\nstderr:\nat Docker.Core.WslShortLivedCommandResult.LogAndThrowIfUnexpectedExitCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String prefix, ILogger log, Int32 expectedExitCode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("workspaces"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("stable-2.3.x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("github.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pinata"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("win"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker.Core"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WslCommand.cs:line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("119")]),t._v("\nat Docker.Engines.WSL2.WSL2Provisioning.d__17.MoveNext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("workspaces"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("stable-2.3.x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("github.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pinata"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("win"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Docker.Desktop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Engines"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WSL2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WSL2Provisioning.cs:line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("169")]),t._v("\n--- End of stack trace from previous location where exception was thrown ---\nat System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),n("p",[t._v("相关 issues "),n("a",{attrs:{href:"https://github.com/docker/for-win/issues/8204",target:"_blank",rel:"noopener noreferrer"}},[t._v("Failed to deploy distro docker-desktop"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("找了半天 解决方案，发现都不能解决这个问题，然后我就去了 "),n("code",[t._v("wsl")]),t._v(" 相关仓库下去寻找问题，因为 我连 "),n("code",[t._v("wsl2")]),t._v(" 都用不了了，怀疑是 这个 环节出了问题，因为 "),n("code",[t._v("docker")]),t._v(" 目前在 w10 上面是以 wsl 的方式来运行的，我以 "),n("code",[t._v("wsl --set-version Ubuntu 2")]),t._v(" 报 "),n("code",[t._v("找不到相关文件")]),t._v(" 简直了 😭")]),t._v(" "),n("p",[t._v("然后查看了几篇 wsl 下的相关 issues 怀疑是 网络适配器的锅，所以 一怒之下 网络 重置了下，它好了")]),t._v(" "),n("p",[t._v("注意：网络重置 重启后 导致 网络不可用，网络适配器也无正常工作，可以使用 "),n("code",[t._v("CCleaner")]),t._v(" 修正下 注册表，然后重启下电脑就可以了，不用重置 电脑了")]),t._v(" "),n("p",[t._v("相关 issues：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/7212",target:"_blank",rel:"noopener noreferrer"}},[t._v("The system cannot find the path specified. "),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/5107",target:"_blank",rel:"noopener noreferrer"}},[t._v('Installing Any Distro on WSL2 Fails with "WslRegisterDistribution failed with error: 0x80070002"'),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/microsoft/WSL/issues/6579",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cant Migrate to WSL2 Error code: 0x80070002"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);